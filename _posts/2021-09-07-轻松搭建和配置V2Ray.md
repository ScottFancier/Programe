---
layout: post
title: "轻松搭建和配置V2Ray"
date: 2021-09-07
tag: 科学上网 
---

###  服务器端的安装，配置
1.>  系统要求 
* Debian 9（推荐）
* Ubuntu 14
* Ubuntu 16
* CentOS 7

其他Linux版本不建议，官方安装脚本自行搜索(较麻烦，所以我直接删除了)  

2.>  命令准备  
* vim：  
输入vim回车提示： 

>* -bash:vim:common not found "  

输入命令：yum -y install vim-enhanced，开始下载安装作为依赖其他也会被安装进来（如果没有安装其他文件，则单独再进行安装）。  
安装完成后再次输入 vim 命令，有命令行的版本等信息显示，则安装成功。  
输入:q 回车退出。

3.> 安装V2Ray服务端  
**推荐的一键安装脚本**  
>* sudo -i "
>* bash <(curl -s -L https://git.io/v2ray.sh)"

如下截图输入1安装，其他参数可以默认，只需要回车执行下一步（除非你有特别要求）   <img src='/images/posts/v2ray/1.png'  />  
安装完成后输入systemctl status v2ray.service命令查看状态。  
![](/images/posts/v2ray/8.png)

4.>配置及管理
V2Ray 配置文件路径：/etc/v2ray/config.json  
手动配置打开这个文件就好了，官方文档能看懂的就自己填。  
快速管理命令：  
v2ray info 查看 V2Ray 配置信息  
v2ray config 修改 V2Ray 配置  
v2ray link 生成 V2Ray 配置文件链接  
v2ray infolink 生成 V2Ray 配置信息链接  
v2ray qr 生成 V2Ray 配置二维码链接  
v2ray ss 修改 Shadowsocks 配置  
v2ray ssinfo 查看 Shadowsocks 配置信息  
v2ray ssqr 生成 Shadowsocks 配置二维码链接  
v2ray status 查看 V2Ray 运行状态  
v2ray start 启动 V2Ray  
v2ray stop 停止 V2Ray  
v2ray restart 重启 V2Ray  
v2ray log 查看 V2Ray 运行日志  
v2ray update 更新 V2Ray  
v2ray update.sh 更新 V2Ray 管理脚本  
v2ray uninstall 卸载 V2Ray  

###  客户端的安装，配置
1.> 软件下载
V2RayW Win
下载：[https://github.com/Cenmrev/V2RayW](https://github.com/Cenmrev/V2RayW)  
V2RayN Win
下载：[https://github.com/2dust/v2rayN](https://github.com/2dust/v2rayN)  
V2RayX MAC
下载：[https://github.com/Cenmrev/V2RayX](https://github.com/Cenmrev/V2RayX)  
考虑到部分电脑软件只支持http协议，本地监测的端口有socks和http这俩。  
127.0.1.1+1081是socks。  
127.0.2.1+1082是http。  

2.> 客户端配置
服务器信息可以使用v2ray info命令行查看  
![](/images/posts/v2ray/9.png)  
打开Windos客户端,我用的是V2RayN
![](/images/posts/v2ray/10.png)  
点击服务器添加VMESS服务器，然后填上服务器端信息
![](/images/posts/v2ray/11.png)  
然后填上服务器端信息，点击确定  
![](/images/posts/v2ray/12.png)  
 
3.> 手机客户端配置  
我用的 v2rayNG 直接扫描生成的二维码就好了。
![](/images/posts/v2ray/14.png)  
###  问题点
1.> 安装完成后还是无法访问google  
右键点击v2rayN查看系统代理，选择自动配置系统代理
![](/images/posts/v2ray/13.png)  






